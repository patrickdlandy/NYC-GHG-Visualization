!function(t){var e={};function n(r){if(e[r])return e[r].exports;var a=e[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(r,a,function(e){return t[e]}.bind(null,a));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);n(1);document.addEventListener("DOMContentLoaded",(function(){var t=d3.format(",d"),e=d3.arc().startAngle((function(t){return t.x0})).endAngle((function(t){return t.x1})).padAngle((function(t){return Math.min((t.x1-t.x0)/2,.005)})).padRadius((function(){return 932/9*1.5})).innerRadius((function(t){return t.y0*(932/9)})).outerRadius((function(t){return Math.max(t.y0*(932/9),t.y1*(932/9)-1)})),n={},r=d3.json("./data/data.json").then((function(t){return n=t,t})),a=function(n){var r=function(t){var e=d3.hierarchy(t).sum((function(t){return t.value})).sort((function(t,e){return e.value-t.value}));return d3.partition().size([2*Math.PI,e.height+1])(e)}(n);r.each((function(t){t.current=t,t.fraction=t.value/r.value}));var a=[],o=[],i={};r.descendants().forEach((function(t){-1===o.indexOf(t.height)&&(o.push(t.height),i[t.height]=[]),-1===a.indexOf(t.data.name)&&(a.push(t.data.name),i[t.height].push(t.data.name))}));var c={};o.forEach((function(t){c[t]=d3.scaleOrdinal().range(d3.quantize(d3.interpolateRainbow,i[t].length+1))}));var u=o.length,l=d3.scaleOrdinal().domain(o).range(d3.range(1,.4,-.6/u)),d=d3.select("#chart").style("height","auto").style("font","10px sans-serif").append("g").attr("transform","translate(".concat(466,", ").concat(466,")"));d.append("g").selectAll("path").data(r.descendants()).join("path").attr("fill",(function(t){return c[t.height](i[t.height].indexOf(t.data.name))})).attr("fill-opacity",(function(t){return t.height===Math.max.apply(Math,o)?0:l(t.height)})).attr("d",(function(t){return e(t.current)})).append("title").text((function(e){return"".concat(e.ancestors().map((function(t){return t.data.name})).reverse().slice(1).join(": ")," \n ").concat(t(e.value)," tCO2e \n ").concat(d3.format(".1%")(e.fraction))}));d.append("text").attr("text-anchor","middle").attr("fill-opacity",1).text((function(){return"".concat(r.data.name," \n ").concat(t(r.value)," tCO2e")}))},o=document.querySelectorAll(".nav-element-right a");console.log(o);for(var i=0;i<o.length;i++)console.log(o[i]),console.log(i),o[i].onclick=function(){var t=this.parentNode.getElementsByClassName("year-navigator")[0];t&&t.classList.contains("selected")?t.classList.remove("selected"):t?t.classList.add("selected"):this.parentNode.parentNode.classList.remove("selected"),"Year âŒ„"!==this.innerHTML&&(console.log(this.innerHTML),c(parseInt(this.innerHTML),10))};var c=function(t){d3.selectAll("svg > *").remove(),console.log(n.children[t-2005]),a(n.children[t-2005])};r.then((function(){c(2017)}))}))},function(t,e,n){}]);
//# sourceMappingURL=main.js.map